# vhash-cloudflare-app Wrangler Configuration
name = "vhash-cloudflare-app"
compatibility_date = "2024-01-01"
pages_build_output_dir = "./out"

# ============================================================================
# D1 DATABASE BINDINGS
# ============================================================================
# Production database - replace database_id after running:
# wrangler d1 create vhash-prod
[[d1_databases]]
binding = "DB"
database_name = "vhash-prod"
database_id = "YOUR_PROD_DATABASE_ID"

# ============================================================================
# R2 BUCKET BINDINGS
# ============================================================================
# Media storage - replace after running:
# wrangler r2 bucket create vhash-media
[[r2_buckets]]
binding = "MEDIA"
bucket_name = "vhash-media"

# ============================================================================
# ENVIRONMENT VARIABLES (non-secret)
# ============================================================================
[vars]
ENVIRONMENT = "production"

# ============================================================================
# SECRETS (set via wrangler secret put)
# ============================================================================
# wrangler secret put TELEGRAM_BOT_TOKEN
# wrangler secret put ADMIN_SESSION_SECRET
# wrangler secret put ADMIN_TELEGRAM_IDS

# ============================================================================
# STAGING ENVIRONMENT
# ============================================================================
[env.staging]
name = "vhash-cloudflare-app-staging"

[[env.staging.d1_databases]]
binding = "DB"
database_name = "vhash-staging"
database_id = "YOUR_STAGING_DATABASE_ID"

[[env.staging.r2_buckets]]
binding = "MEDIA"
bucket_name = "vhash-media-staging"

[env.staging.vars]
ENVIRONMENT = "staging"

# ============================================================================
# LOCAL DEVELOPMENT
# ============================================================================
[env.dev]
name = "vhash-cloudflare-app-dev"

[[env.dev.d1_databases]]
binding = "DB"
database_name = "vhash-dev"
database_id = "local"

[[env.dev.r2_buckets]]
binding = "MEDIA"
bucket_name = "vhash-media-dev"

[env.dev.vars]
ENVIRONMENT = "development"
